@page "/scanner/barcode"
@using System.IO
@using Microsoft.Maui.Graphics
@using ZXing.Net.Maui

@* https://github.com/Redth/ZXing.Net.Maui?tab=readme-ov-file *@

<CameraView x:Name="cameraView" 
            VerticalOptions="FillAndExpand" 
            HorizontalOptions="FillAndExpand" 
            OnDetected="OnBarcodeDetected" />

@code
{
    private void OnBarcodeDetected(object sender, BarcodeDetectionEventArgs e)
    {
        foreach (var barcode in e.Results)
        {
            Console.WriteLine($"Detected barcode: {barcode.Value} (Format: {barcode.Format})");
        }
    }
}